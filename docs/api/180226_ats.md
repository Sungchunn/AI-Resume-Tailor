# ATS Analysis API

## Overview

The ATS (Applicant Tracking System) Analysis API provides tools to evaluate resume compatibility with automated screening systems. These endpoints help identify formatting issues, missing keywords, and structural improvements.

**Base Path:** `/v1/ats`

**Authentication:** All endpoints require authentication except `/v1/ats/tips`.

---

## Understanding ATS

Applicant Tracking Systems scan and parse resumes before human review. Key factors for ATS compatibility:

- **Structure:** Standard sections (Contact, Experience, Education, Skills)
- **Keywords:** Matching terminology from job descriptions
- **Formatting:** Clean, parseable layout without complex elements
- **File Type:** PDF or DOCX (no images, tables, or multi-column layouts)

---

## Endpoints

### Structure Analysis

Analyze resume structure and formatting for ATS compatibility.

```
POST /v1/ats/structure
```

**Request Body:**

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `resume_content` | object | Yes | Structured resume content |

**Example Request:**

```bash
curl -X POST http://localhost:8000/v1/ats/structure \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "resume_content": {
      "contact": {
        "name": "John Doe",
        "email": "john@example.com",
        "phone": "+1-555-123-4567"
      },
      "experience": [
        {
          "company": "TechCorp",
          "title": "Senior Engineer",
          "dates": "2022-Present",
          "bullets": [
            "Led migration to microservices",
            "Reduced deployment time by 75%"
          ]
        }
      ],
      "skills": ["Python", "AWS", "Docker"]
    }
  }'
```

**Response (200 OK):**

```json
{
  "format_score": 85,
  "sections_found": [
    "contact",
    "experience",
    "skills"
  ],
  "sections_missing": [
    "education",
    "summary"
  ],
  "warnings": [
    "Missing education section - many ATS systems expect this",
    "No professional summary found"
  ],
  "suggestions": [
    "Add an Education section, even for experienced professionals",
    "Include a 2-3 sentence professional summary at the top",
    "Consider adding a location to your contact information",
    "Add date ranges in consistent format (e.g., 'Jan 2022 - Present')"
  ]
}
```

**Scoring Breakdown:**

| Score Range | Rating | Description |
|-------------|--------|-------------|
| 90-100 | Excellent | Well-structured, all key sections present |
| 75-89 | Good | Minor improvements recommended |
| 50-74 | Fair | Missing important sections or formatting issues |
| 0-49 | Poor | Significant structure problems |

---

### Keyword Analysis

Analyze keyword match between job description and resume content.

```
POST /v1/ats/keywords
```

**Request Body:**

| Field | Type | Required | Constraints |
|-------|------|----------|-------------|
| `job_description` | string | Yes | Min 50 characters |
| `resume_block_ids` | UUID[] | No | Blocks to analyze |

**Example Request:**

```bash
curl -X POST http://localhost:8000/v1/ats/keywords \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "job_description": "We are seeking a Senior Software Engineer with strong Python experience. The ideal candidate will have expertise in AWS cloud services, containerization with Docker and Kubernetes, and experience building scalable microservices architectures. Team leadership and mentoring experience required. Machine learning knowledge is a plus.",
    "resume_block_ids": [
      "880e8400-e29b-41d4-a716-446655440001",
      "880e8400-e29b-41d4-a716-446655440002"
    ]
  }'
```

**Response (200 OK):**

```json
{
  "keyword_coverage": 0.72,
  "matched_keywords": [
    {"keyword": "Python", "frequency": 3, "importance": "high"},
    {"keyword": "AWS", "frequency": 2, "importance": "high"},
    {"keyword": "Docker", "frequency": 1, "importance": "medium"},
    {"keyword": "microservices", "frequency": 2, "importance": "high"},
    {"keyword": "leadership", "frequency": 1, "importance": "high"},
    {"keyword": "mentoring", "frequency": 1, "importance": "medium"}
  ],
  "missing_keywords": [
    {"keyword": "Kubernetes", "importance": "high", "context": "containerization with Docker and Kubernetes"},
    {"keyword": "scalable", "importance": "medium", "context": "scalable microservices architectures"},
    {"keyword": "machine learning", "importance": "low", "context": "Machine learning knowledge is a plus"}
  ],
  "missing_from_vault": [
    "Kubernetes",
    "machine learning"
  ],
  "warnings": [
    "Critical keyword 'Kubernetes' not found in resume",
    "Consider adding more instances of 'AWS' for emphasis"
  ],
  "suggestions": [
    "Add Kubernetes experience or mention any container orchestration knowledge",
    "If you have any ML/AI exposure, consider adding it even if limited",
    "Use exact phrases like 'scalable microservices' to improve keyword matching"
  ]
}
```

**Keyword Importance Levels:**

| Level | Description |
|-------|-------------|
| `high` | Required skills, mentioned multiple times or in requirements |
| `medium` | Preferred skills or supporting technologies |
| `low` | Nice-to-have or bonus qualifications |

---

### Get ATS Tips

Retrieve general ATS optimization tips (no authentication required).

```
GET /v1/ats/tips
```

**Example Request:**

```bash
curl http://localhost:8000/v1/ats/tips
```

**Response (200 OK):**

```json
{
  "tips": [
    {
      "category": "Formatting",
      "tip": "Use standard section headers (Experience, Education, Skills) that ATS systems recognize",
      "priority": "high"
    },
    {
      "category": "Formatting",
      "tip": "Avoid tables, text boxes, and multi-column layouts",
      "priority": "high"
    },
    {
      "category": "Formatting",
      "tip": "Use standard fonts (Arial, Calibri, Times New Roman)",
      "priority": "medium"
    },
    {
      "category": "Keywords",
      "tip": "Mirror exact phrases from the job description when applicable",
      "priority": "high"
    },
    {
      "category": "Keywords",
      "tip": "Include both acronyms and full terms (e.g., 'AWS' and 'Amazon Web Services')",
      "priority": "medium"
    },
    {
      "category": "Keywords",
      "tip": "Place important keywords in multiple sections (Skills, Experience)",
      "priority": "medium"
    },
    {
      "category": "File Format",
      "tip": "Submit as PDF unless DOCX is specifically requested",
      "priority": "high"
    },
    {
      "category": "File Format",
      "tip": "Name your file professionally (FirstName_LastName_Resume.pdf)",
      "priority": "low"
    },
    {
      "category": "Content",
      "tip": "Use bullet points for achievements, not paragraphs",
      "priority": "high"
    },
    {
      "category": "Content",
      "tip": "Include quantified achievements (percentages, numbers, dollar amounts)",
      "priority": "high"
    },
    {
      "category": "Content",
      "tip": "Start bullets with strong action verbs",
      "priority": "medium"
    },
    {
      "category": "Contact",
      "tip": "Include email and phone number in plain text format",
      "priority": "high"
    },
    {
      "category": "Contact",
      "tip": "Add LinkedIn profile URL if professional",
      "priority": "low"
    }
  ]
}
```

---

## Data Models

### ATSStructureRequest

```typescript
{
  resume_content: {
    contact?: {
      name?: string;
      email?: string;
      phone?: string;
      location?: string;
      linkedin?: string;
    };
    summary?: string;
    experience?: Array<{
      company: string;
      title: string;
      dates: string;
      bullets: string[];
    }>;
    education?: Array<{
      institution: string;
      degree: string;
      graduation_date?: string;
    }>;
    skills?: string[];
    certifications?: string[];
  };
}
```

### ATSStructureResponse

```typescript
{
  format_score: number;          // 0-100
  sections_found: string[];
  sections_missing: string[];
  warnings: string[];
  suggestions: string[];
}
```

### ATSKeywordRequest

```typescript
{
  job_description: string;       // Min 50 characters
  resume_block_ids?: string[];   // UUIDs of blocks to analyze
}
```

### ATSKeywordResponse

```typescript
{
  keyword_coverage: number;      // 0-1
  matched_keywords: Array<{
    keyword: string;
    frequency: number;
    importance: "high" | "medium" | "low";
  }>;
  missing_keywords: Array<{
    keyword: string;
    importance: "high" | "medium" | "low";
    context: string;             // Where it appeared in job description
  }>;
  missing_from_vault: string[];  // Keywords not in any vault blocks
  warnings: string[];
  suggestions: string[];
}
```

### ATSTipsResponse

```typescript
{
  tips: Array<{
    category: string;            // Formatting, Keywords, File Format, Content, Contact
    tip: string;
    priority: "high" | "medium" | "low";
  }>;
}
```

---

## Best Practices Workflow

### Pre-Application Checklist

```
1. Structure Check      →  POST /v1/ats/structure
   - Score >= 85 recommended
   - All critical sections present

2. Keyword Analysis     →  POST /v1/ats/keywords
   - Coverage >= 0.70 recommended
   - Address high-importance missing keywords

3. Fill Gaps            →  Use /v1/blocks to add missing content

4. Re-analyze           →  Verify improvements with both endpoints

5. Export & Apply       →  Use /api/export for final document
```

---

## Rate Limiting

ATS endpoints use default rate limits:

| Endpoint | Per Minute | Per Hour |
|----------|-----------|----------|
| `/v1/ats/structure` | 60 | 1000 |
| `/v1/ats/keywords` | 60 | 1000 |
| `/v1/ats/tips` | 60 | 1000 |

---

## Usage Notes

- Run structure analysis on all resumes before tailoring
- Run keyword analysis for each specific job application
- Focus on high-importance missing keywords first
- Use tips as a general reference for resume building
- Higher keyword coverage improves ATS ranking, but don't keyword-stuff

## Related Endpoints

- [Blocks](180226_blocks.md) - Add content blocks to improve coverage
- [Semantic Match](180226_tailor-match.md) - Find relevant existing blocks
- [Workshops](180226_workshops.md) - Build optimized resumes interactively
